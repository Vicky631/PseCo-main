# PseCoä»£ç ä¿®æ”¹è¯´æ˜æ–‡æ¡£

## æ¦‚è¿°

æœ¬æ¬¡ä¿®æ”¹å®Œæˆäº†ä¸‰ä¸ªæ ¸å¿ƒç›®æ ‡ï¼š
1. **æ•°æ®é›†æ ¼å¼ç¡®è®¤å’Œé€‚é…æ–¹æ¡ˆ**
2. **ä¿®æ­£train_pipeline.py**ï¼ˆé˜¶æ®µé€‰æ‹©ã€æ–­ç‚¹ç»­è®­ã€æ—¥å¿—ç³»ç»Ÿï¼‰
3. **ç¼–å†™test_pipeline.py**ï¼ˆæ¨ç†è„šæœ¬ï¼Œæ”¯æŒä¸åŒæ•°æ®é›†æ ¼å¼ï¼‰

---

## ç›®æ ‡1ï¼šæ•°æ®é›†æ ¼å¼ç¡®è®¤

### 1.1 åˆ†æç»“æœ

**COCOæ ¼å¼ä¾èµ–ä½ç½®ï¼š**

| ä½ç½® | æ–‡ä»¶ | è¡Œå· | ä¾èµ–ç¨‹åº¦ | è¯´æ˜ |
|------|------|------|---------|------|
| è¯„ä¼°æ¨¡å— | `fsc147/4_1_train_roi_head.py` | 68 | **å¼ºä¾èµ–** | ä½¿ç”¨COCO APIåŠ è½½GTæ ‡æ³¨ |
| è¯„ä¼°è®¡ç®— | `fsc147/4_1_train_roi_head.py` | 314-322 | **å¼ºä¾èµ–** | ä½¿ç”¨COCOevalè®¡ç®—APæŒ‡æ ‡ |
| æ•°æ®åŠ è½½ | `fsc147/1_generate_data.py` | - | âŒ æ— ä¾èµ– | ä½¿ç”¨è‡ªå®šä¹‰JSONæ ¼å¼ |
| è®­ç»ƒæµç¨‹ | `fsc147/2_train_heatmap.py` | - | âŒ æ— ä¾èµ– | ä¸ä¾èµ–COCOæ ¼å¼ |

**ç»“è®ºï¼š**
- âœ… **è®­ç»ƒæµç¨‹ä¸ä¾èµ–COCOæ ¼å¼**ï¼ˆä½¿ç”¨è‡ªå®šä¹‰JSONï¼‰
- âš ï¸ **è¯„ä¼°æµç¨‹å¼ºä¾èµ–COCOæ ¼å¼**ï¼ˆå¿…é¡»ä½¿ç”¨COCO APIï¼‰

### 1.2 é€‚é…æ–¹æ¡ˆ

**åˆ›å»ºäº†æ ‡æ³¨æ ¼å¼è½¬æ¢å·¥å…·ï¼š`utils/annotation_converter.py`**

**åŠŸèƒ½ï¼š**
- è‡ªåŠ¨æ£€æµ‹æ ‡æ³¨æ ¼å¼ï¼ˆCOCO/FSC147/è‡ªå®šä¹‰JSONï¼‰
- å°†è‡ªå®šä¹‰æ ¼å¼è½¬æ¢ä¸ºCOCOæ ¼å¼ï¼ˆç”¨äºè¯„ä¼°ï¼‰
- æ”¯æŒå¤šç§è¾“å…¥æ ¼å¼

**æ ¸å¿ƒæ–¹æ³•ï¼š**
```python
# è‡ªåŠ¨æ£€æµ‹æ ¼å¼
format_type = AnnotationConverter.detect_format(annotation_path)

# è½¬æ¢ä¸ºCOCOæ ¼å¼
AnnotationConverter.convert_to_coco(
    annotation_path, output_path, image_dir, format_type
)
```

### 1.3 ä½¿ç”¨ç¤ºä¾‹

**è‡ªå®šä¹‰JSONæ ¼å¼æ•°æ®é›†ï¼š**
```yaml
# config/my_dataset_config.yaml
dataset:
  name: "my_dataset"
  annotation_file: "{dataset.root}/annotations.json"
  format: "custom_json"  # æŒ‡å®šæ ¼å¼
```

ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
1. æ£€æµ‹æ ‡æ³¨æ ¼å¼
2. è½¬æ¢ä¸ºCOCOæ ¼å¼ï¼ˆç”¨äºè¯„ä¼°ï¼‰
3. ä½¿ç”¨åŸå§‹æ ¼å¼è¿›è¡Œè®­ç»ƒ

---

## ç›®æ ‡2ï¼šä¿®æ­£train_pipeline.py

### 2.1 æ ¸å¿ƒæ”¹åŠ¨

#### æ”¹åŠ¨1ï¼šæ”¯æŒé˜¶æ®µé€‰æ‹©ï¼ˆ--stageå‚æ•°ï¼‰

**ä¿®æ”¹å‰ï¼š**
```bash
python train_pipeline.py --stages 1 2 3 4  # éœ€è¦æŒ‡å®šæ‰€æœ‰é˜¶æ®µ
```

**ä¿®æ”¹åï¼š**
```bash
python train_pipeline.py --stage all        # è¿è¡Œæ‰€æœ‰é˜¶æ®µ
python train_pipeline.py --stage 1         # åªè¿è¡Œé˜¶æ®µ1
python train_pipeline.py --stage 2 3       # è¿è¡Œé˜¶æ®µ2å’Œ3
```

**ä»£ç ä½ç½®ï¼š** `train_pipeline.py` ç¬¬69-75è¡Œ

#### æ”¹åŠ¨2ï¼šæ–­ç‚¹ç»­è®­åŠŸèƒ½

**åŠŸèƒ½ï¼š**
- è‡ªåŠ¨æ£€æµ‹æ¯ä¸ªé˜¶æ®µçš„æ–­ç‚¹æ–‡ä»¶
- å¦‚æœå­˜åœ¨æ–­ç‚¹ï¼Œè‡ªåŠ¨åŠ è½½å¹¶ç»§ç»­è®­ç»ƒ
- æ”¯æŒ `--resume` å‚æ•°å¯ç”¨æ–­ç‚¹ç»­è®­

**æ–­ç‚¹æ–‡ä»¶ä½ç½®ï¼š**
- é˜¶æ®µ2ï¼š`checkpoints/point_decoder_vith_v5.pth`
- é˜¶æ®µ3ï¼šå†…éƒ¨å¤„ç†ï¼ˆåˆ†å¸ƒå¼æ¨ç†ï¼‰
- é˜¶æ®µ4ï¼š`checkpoints/cls_head/ckpt/{run_name}/*.pth`

**ä»£ç ä½ç½®ï¼š** `train_pipeline.py` ç¬¬88-102è¡Œ

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```bash
# æ–­ç‚¹ç»­è®­ï¼ˆè‡ªåŠ¨è·³è¿‡å·²å®Œæˆçš„é˜¶æ®µï¼ŒåŠ è½½æ–­ç‚¹ç»§ç»­ï¼‰
python train_pipeline.py --resume

# å¼ºåˆ¶ä»å¤´å¼€å§‹ï¼ˆå¿½ç•¥æ–­ç‚¹ï¼‰
python train_pipeline.py --force
```

#### æ”¹åŠ¨3ï¼šå®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿ

**åŠŸèƒ½ï¼š**
- è®°å½•æ¯ä¸ªé˜¶æ®µçš„è®­ç»ƒæ­¥æ•°ã€æŸå¤±å€¼
- è®°å½•è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼ˆè¡Œå·ã€å‡½æ•°åã€å †æ ˆï¼‰
- æ—¥å¿—åŒæ—¶è¾“å‡ºåˆ°æ–‡ä»¶å’Œç»ˆç«¯
- æ—¥å¿—æ–‡ä»¶è‡ªåŠ¨å‘½åï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰

**æ—¥å¿—æ ¼å¼ï¼š**
```
2026-01-25 10:30:45 - INFO - [train_pipeline.py:152] - main() - ğŸš€ å¼€å§‹æ‰§è¡Œé˜¶æ®µ2: è®­ç»ƒç‚¹è§£ç å™¨
2026-01-25 10:30:46 - ERROR - [stage2_train_heatmap.py:58] - run_stage2() - æ ‡æ³¨æ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨: /path/to/file.json
```

**ä»£ç ä½ç½®ï¼š** `train_pipeline.py` ç¬¬30-50è¡Œ

**æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼š** `logs/train_log_YYYYMMDD_HHMMSS.txt`

### 2.2 æ–°å¢åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| é˜¶æ®µé€‰æ‹© | `--stages 1 2 3 4` | `--stage all/1/2/3/4` |
| æ–­ç‚¹ç»­è®­ | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒï¼ˆ--resumeï¼‰ |
| æ—¥å¿—ç³»ç»Ÿ | âŒ ç®€å•print | âœ… å®Œæ•´æ—¥å¿—ï¼ˆæ–‡ä»¶+ç»ˆç«¯ï¼‰ |
| é”™è¯¯å®šä½ | âŒ ç®€å•å¼‚å¸¸ä¿¡æ¯ | âœ… è¯¦ç»†å †æ ˆ+è¡Œå·+å‡½æ•°å |
| é˜¶æ®µçŠ¶æ€æ£€æŸ¥ | âœ… æ”¯æŒ | âœ… å¢å¼ºï¼ˆæ›´è¯¦ç»†ï¼‰ |

### 2.3 ä½¿ç”¨ç¤ºä¾‹

```bash
# 1. è¿è¡Œæ‰€æœ‰é˜¶æ®µ
python train_pipeline.py --config config/default_config.yaml --stage all

# 2. åªè¿è¡Œé˜¶æ®µ2
python train_pipeline.py --stage 2

# 3. æ–­ç‚¹ç»­è®­
python train_pipeline.py --resume

# 4. æ£€æŸ¥é˜¶æ®µçŠ¶æ€
python train_pipeline.py --check-only

# 5. æŒ‡å®šæ—¥å¿—æ–‡ä»¶
python train_pipeline.py --stage all --log-file logs/my_log.txt
```

---

## ç›®æ ‡3ï¼šç¼–å†™test_pipeline.py

### 3.1 æ ¸å¿ƒåŠŸèƒ½

**æ–‡ä»¶ï¼š** `test_pipeline.py`

**åŠŸèƒ½ï¼š**
1. âœ… æ”¯æŒæ¨ç†ä»»æ„æ•°æ®é›†ï¼ˆé€šè¿‡å‘½ä»¤è¡Œå‚æ•°æˆ–é…ç½®æ–‡ä»¶ï¼‰
2. âœ… è‡ªåŠ¨é€‚é…ä¸åŒæ ‡æ³¨æ ¼å¼ï¼ˆCOCO/è‡ªå®šä¹‰JSONï¼‰
3. âœ… è¾“å‡ºæ¨ç†ç»“æœå’Œè¯„ä¼°æŒ‡æ ‡ï¼ˆMAE/RMSE/NAE/SREï¼‰
4. âœ… æ›¿æ¢æ•°æ®é›†æ—¶ä»…éœ€ä¿®æ”¹å‚æ•°ï¼Œæ— éœ€æ”¹ä»£ç 

### 3.2 è¾“å…¥å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|
| `--config` | str | å¦ | é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤: config/default_config.yamlï¼‰ |
| `--test_data_root` | str | **æ˜¯** | æµ‹è¯•æ•°æ®æ ¹ç›®å½•ï¼ˆå›¾åƒæ‰€åœ¨ç›®å½•ï¼‰ |
| `--anno_path` | str | **æ˜¯** | æ ‡æ³¨æ–‡ä»¶è·¯å¾„ |
| `--ckpt_path` | str | å¦ | æ¨¡å‹æƒé‡è·¯å¾„ï¼ˆå¦‚æœä¸ºNoneï¼Œåˆ™ä»é…ç½®ä¸­è·å–ï¼‰ |
| `--dataset_type` | str | å¦ | æ•°æ®é›†ç±»å‹ï¼ˆauto/coco/fsc147_json/custom_jsonï¼‰ |
| `--output_dir` | str | å¦ | è¾“å‡ºç›®å½•ï¼ˆé»˜è®¤: resultsï¼‰ |
| `--device` | str | å¦ | è®¾å¤‡ï¼ˆé»˜è®¤: cuda:0ï¼‰ |

### 3.3 è¾“å‡º

**1. æ¨ç†ç»“æœæ–‡ä»¶ï¼š** `results/inference_results.json`
```json
{
  "metrics": {
    "MAE": 2.34,
    "RMSE": 3.45,
    "NAE": 0.12,
    "SRE": 0.15,
    "total_images": 100
  },
  "individual_results": [
    {
      "filename": "image1.jpg",
      "gt_count": 10,
      "pred_count": 12,
      "error": 2
    },
    ...
  ]
}
```

**2. æ—¥å¿—æ–‡ä»¶ï¼š** `logs/test_log_TIMESTAMP.txt`

### 3.4 ä½¿ç”¨ç¤ºä¾‹

```bash
# 1. åŸºæœ¬ä½¿ç”¨ï¼ˆä½¿ç”¨é…ç½®æ–‡ä»¶ï¼‰
python test_pipeline.py \
    --config config/default_config.yaml \
    --test_data_root /path/to/test/images \
    --anno_path /path/to/annotations.json

# 2. æŒ‡å®šæ•°æ®é›†ç±»å‹
python test_pipeline.py \
    --test_data_root /path/to/test \
    --anno_path /path/to/annotations.json \
    --dataset_type custom_json

# 3. æŒ‡å®šæ¨¡å‹æƒé‡
python test_pipeline.py \
    --test_data_root /path/to/test \
    --anno_path /path/to/annotations.json \
    --ckpt_path /path/to/checkpoint.pth

# 4. æŒ‡å®šè¾“å‡ºç›®å½•
python test_pipeline.py \
    --test_data_root /path/to/test \
    --anno_path /path/to/annotations.json \
    --output_dir my_results
```

### 3.5 è‡ªåŠ¨é€‚é…ä¸åŒæ ‡æ³¨æ ¼å¼

**æ”¯æŒçš„æ ¼å¼ï¼š**
- âœ… **COCOæ ¼å¼**ï¼šç›´æ¥ä½¿ç”¨
- âœ… **FSC147 JSONæ ¼å¼**ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶è½¬æ¢
- âœ… **è‡ªå®šä¹‰JSONæ ¼å¼**ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶è½¬æ¢

**é€‚é…é€»è¾‘ï¼š**
1. è‡ªåŠ¨æ£€æµ‹æ ‡æ³¨æ ¼å¼ï¼ˆå¦‚æœ `--dataset_type=auto`ï¼‰
2. å¦‚æœæ˜¯COCOæ ¼å¼ï¼Œç›´æ¥ä½¿ç”¨
3. å¦‚æœæ˜¯è‡ªå®šä¹‰æ ¼å¼ï¼Œè‡ªåŠ¨è½¬æ¢ä¸ºCOCOæ ¼å¼ï¼ˆç”¨äºè¯„ä¼°ï¼‰
4. ä½¿ç”¨åŸå§‹æ ¼å¼è¿›è¡Œæ¨ç†ï¼ˆå¦‚æœå…¼å®¹ï¼‰

---

## æ–°å¢æ–‡ä»¶æ¸…å•

### 1. å·¥å…·æ–‡ä»¶

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `utils/annotation_converter.py` | æ ‡æ³¨æ ¼å¼è½¬æ¢å·¥å…·ï¼ˆCOCO/è‡ªå®šä¹‰æ ¼å¼äº’è½¬ï¼‰ |
| `æ•°æ®é›†æ ¼å¼åˆ†ææŠ¥å‘Š.md` | æ•°æ®é›†æ ¼å¼ä¾èµ–åˆ†ææ–‡æ¡£ |

### 2. è„šæœ¬æ–‡ä»¶

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `test_pipeline.py` | æ¨ç†æµ‹è¯•è„šæœ¬ï¼ˆæ”¯æŒä»»æ„æ•°æ®é›†ï¼‰ |

### 3. ä¿®æ”¹æ–‡ä»¶

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
|------|---------|
| `train_pipeline.py` | æ·»åŠ é˜¶æ®µé€‰æ‹©ã€æ–­ç‚¹ç»­è®­ã€å®Œæ•´æ—¥å¿—ç³»ç»Ÿ |

---

## æ ¸å¿ƒæ”¹åŠ¨ç‚¹æ€»ç»“

### æ”¹åŠ¨1ï¼štrain_pipeline.py

**ä½ç½®ï¼š** `train_pipeline.py`

**ä¸»è¦ä¿®æ”¹ï¼š**
1. **é˜¶æ®µé€‰æ‹©å‚æ•°**ï¼ˆç¬¬69-75è¡Œï¼‰
   - ä» `--stages` æ”¹ä¸º `--stage`
   - æ”¯æŒ `--stage all` è¿è¡Œæ‰€æœ‰é˜¶æ®µ
   - æ”¯æŒ `--stage 1 2 3` è¿è¡ŒæŒ‡å®šé˜¶æ®µ

2. **æ–­ç‚¹ç»­è®­åŠŸèƒ½**ï¼ˆç¬¬88-102è¡Œï¼‰
   - æ–°å¢ `check_checkpoint()` å‡½æ•°
   - è‡ªåŠ¨æ£€æµ‹æ–­ç‚¹æ–‡ä»¶
   - æ”¯æŒ `--resume` å‚æ•°

3. **æ—¥å¿—ç³»ç»Ÿ**ï¼ˆç¬¬30-50è¡Œï¼‰
   - æ–°å¢ `setup_logging()` å‡½æ•°
   - æ—¥å¿—åŒæ—¶è¾“å‡ºåˆ°æ–‡ä»¶å’Œç»ˆç«¯
   - è®°å½•è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼ˆè¡Œå·ã€å‡½æ•°åã€å †æ ˆï¼‰

4. **é”™è¯¯å¤„ç†å¢å¼º**ï¼ˆç¬¬159-195è¡Œï¼‰
   - æ•è·è¯¦ç»†å¼‚å¸¸ä¿¡æ¯
   - è®°å½•é”™è¯¯ä½ç½®ï¼ˆæ–‡ä»¶åã€è¡Œå·ã€å‡½æ•°åï¼‰
   - è¾“å‡ºå®Œæ•´å †æ ˆä¿¡æ¯

### æ”¹åŠ¨2ï¼šæ–°å¢annotation_converter.py

**ä½ç½®ï¼š** `utils/annotation_converter.py`

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- `detect_format()` - è‡ªåŠ¨æ£€æµ‹æ ‡æ³¨æ ¼å¼
- `convert_fsc147_to_coco()` - FSC147æ ¼å¼è½¬COCO
- `convert_custom_json_to_coco()` - è‡ªå®šä¹‰JSONè½¬COCO
- `convert_to_coco()` - é€šç”¨è½¬æ¢æ¥å£

### æ”¹åŠ¨3ï¼šæ–°å¢test_pipeline.py

**ä½ç½®ï¼š** `test_pipeline.py`

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- `load_test_data()` - åŠ è½½æµ‹è¯•æ•°æ®ï¼ˆæ”¯æŒå¤šç§æ ¼å¼ï¼‰
- `load_model_checkpoints()` - åŠ è½½æ¨¡å‹æƒé‡
- `run_inference()` - è¿è¡Œæ¨ç†
- `evaluate_results()` - è¯„ä¼°ç»“æœï¼ˆMAE/RMSEç­‰ï¼‰

---

## ä½¿ç”¨ç¤ºä¾‹å‘½ä»¤

### è®­ç»ƒæµç¨‹

```bash
# 1. è¿è¡Œæ‰€æœ‰é˜¶æ®µ
python train_pipeline.py --config config/default_config.yaml --stage all

# 2. åªè¿è¡Œé˜¶æ®µ2ï¼ˆè®­ç»ƒç‚¹è§£ç å™¨ï¼‰
python train_pipeline.py --stage 2

# 3. æ–­ç‚¹ç»­è®­
python train_pipeline.py --resume

# 4. è¿è¡Œé˜¶æ®µ3å’Œ4
python train_pipeline.py --stage 3 4

# 5. æ£€æŸ¥é˜¶æ®µçŠ¶æ€
python train_pipeline.py --check-only
```

### æ¨ç†æµ‹è¯•

```bash
# 1. åŸºæœ¬æ¨ç†ï¼ˆä½¿ç”¨é…ç½®æ–‡ä»¶ï¼‰
python test_pipeline.py \
    --test_data_root /path/to/test/images \
    --anno_path /path/to/annotations.json

# 2. æŒ‡å®šæ•°æ®é›†ç±»å‹
python test_pipeline.py \
    --test_data_root /path/to/test \
    --anno_path /path/to/annotations.json \
    --dataset_type custom_json

# 3. æŒ‡å®šæ¨¡å‹æƒé‡
python test_pipeline.py \
    --test_data_root /path/to/test \
    --anno_path /path/to/annotations.json \
    --ckpt_path /path/to/checkpoint.pth
```

---

## æ³¨æ„äº‹é¡¹

### 1. æ•°æ®é›†æ ¼å¼

- **è®­ç»ƒé˜¶æ®µ**ï¼šæ”¯æŒè‡ªå®šä¹‰JSONæ ¼å¼ï¼ˆFSC147æ ¼å¼ï¼‰
- **è¯„ä¼°é˜¶æ®µ**ï¼šéœ€è¦COCOæ ¼å¼ï¼ˆä¼šè‡ªåŠ¨è½¬æ¢ï¼‰
- **æ¨ç†é˜¶æ®µ**ï¼šæ”¯æŒå¤šç§æ ¼å¼ï¼ˆè‡ªåŠ¨æ£€æµ‹å’Œè½¬æ¢ï¼‰

### 2. æ–­ç‚¹ç»­è®­

- é˜¶æ®µ2å’Œé˜¶æ®µ4æ”¯æŒæ–­ç‚¹ç»­è®­
- é˜¶æ®µ1å’Œé˜¶æ®µ3æ˜¯æ¨ç†æµç¨‹ï¼Œæ— æ–­ç‚¹æ¦‚å¿µ
- ä½¿ç”¨ `--resume` æ—¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶åŠ è½½æ–­ç‚¹

### 3. æ—¥å¿—æ–‡ä»¶

- è®­ç»ƒæ—¥å¿—ï¼š`logs/train_log_TIMESTAMP.txt`
- æµ‹è¯•æ—¥å¿—ï¼š`logs/test_log_TIMESTAMP.txt`
- æ—¥å¿—åŒæ—¶è¾“å‡ºåˆ°æ–‡ä»¶å’Œç»ˆç«¯

### 4. é…ç½®æ–‡ä»¶

- æ‰€æœ‰è·¯å¾„å’Œå‚æ•°éƒ½é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†
- æ”¯æŒè·¯å¾„æ¨¡æ¿å˜é‡ï¼ˆå¦‚ `{project_root}`, `{dataset.root}`ï¼‰
- æ›¿æ¢æ•°æ®é›†åªéœ€ä¿®æ”¹é…ç½®æ–‡ä»¶

---

## åç»­ä¼˜åŒ–å»ºè®®

1. **å®Œå–„æ¨ç†æµç¨‹**ï¼š`test_pipeline.py` ä¸­çš„ `run_inference()` å‡½æ•°éœ€è¦å®Œæ•´å®ç°ï¼ˆå½“å‰ä¸ºç®€åŒ–ç‰ˆæœ¬ï¼‰
2. **æ”¯æŒæ›´å¤šæ ¼å¼**ï¼šæ‰©å±• `annotation_converter.py` æ”¯æŒTXT/XMLæ ¼å¼
3. **åˆ†å¸ƒå¼æ¨ç†**ï¼šé˜¶æ®µ3çš„åˆ†å¸ƒå¼æ¨ç†å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–
4. **å¯è§†åŒ–ç»“æœ**ï¼šåœ¨ `test_pipeline.py` ä¸­æ·»åŠ ç»“æœå¯è§†åŒ–åŠŸèƒ½

---

## æ€»ç»“

æœ¬æ¬¡ä¿®æ”¹å®Œæˆäº†ä¸‰ä¸ªæ ¸å¿ƒç›®æ ‡ï¼š

1. âœ… **æ•°æ®é›†æ ¼å¼ç¡®è®¤**ï¼šæ˜ç¡®äº†COCOæ ¼å¼ä¾èµ–ä½ç½®ï¼Œæä¾›äº†é€‚é…æ–¹æ¡ˆ
2. âœ… **train_pipeline.pyä¿®æ­£**ï¼šæ”¯æŒé˜¶æ®µé€‰æ‹©ã€æ–­ç‚¹ç»­è®­ã€å®Œæ•´æ—¥å¿—
3. âœ… **test_pipeline.pyç¼–å†™**ï¼šæ”¯æŒæ¨ç†ä»»æ„æ•°æ®é›†ï¼Œè‡ªåŠ¨é€‚é…ä¸åŒæ ¼å¼

æ‰€æœ‰ä¿®æ”¹éƒ½éµå¾ªäº†"ä»£ç å¤ç”¨åŸåº“æ ¸å¿ƒå‡½æ•°ï¼Œä»…ä¿®æ”¹æ•°æ®åŠ è½½/è®­ç»ƒæµç¨‹/æ—¥å¿—æ¨¡å—"çš„åŸåˆ™ï¼Œä¿æŒäº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚
